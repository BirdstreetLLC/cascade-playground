<div class="flex flex-col bg-[#F9FAFF] h-full overflow-auto">
  <app-global-header />
  <app-header
    [title]="title"
    [subtitle]="currentProgram.description"
    [definitions]="false"
    [channel]="currentProgram.channel"
    [trackedOutcome]="currentProgram.trackedOutcome"
    [dataAsOf]="currentProgram.dataAsOf"
    [startDate]="currentProgram.startDate"
    [endDate]="currentProgram.endDate"
    [engagementRate]="currentProgram.engagementRate"
    [engagedOutcomeRate]="currentProgram.engagedOutcomeRate"
    [unengagedOutcomeRate]="currentProgram.unengagedOutcomeRate"
    [memberList]="currentProgram.memberList"
    [engaged]="currentProgram.engaged"
    [unableToReach]="currentProgram.unableToReach"
    [optedOut]="currentProgram.optedOut"
    [didNotEngage]="currentProgram.didNotEngage"
    programManagerUrl="Program Manager"
    dpiDataOverviewUrl="Data Overview"
    [status]="currentProgram.status"
    (onViewMembers)="onViewMembers()"
    (onTrackedOutcome)="showDialog()"
  />
  <div class="w-full flex justify-center items-center bg-white border-b border-gray-200">
    <div class="w-[1280px] flex justify-center items-center">
      <p-tabMenu (activeItemChange)="onActiveItemChange($event)" styleClass="custom-tabs" [activeItem]="activeItem" [model]="items"></p-tabMenu>
      <div class="flex-1"></div>
     
    </div>
  </div>
  <div class="flex justify-center items-center w-full h-full">
    <div class="flex w-[1280px] h-full justify-center items-center">
      
      <div *ngIf="activeItem?.label !== 'Overview'" class="bg-white w-[305px] h-full border-x border-gray-200 p-4 flex flex-col gap-4 justify-start items-center">
        <img src="https://res.cloudinary.com/dbrkk86kt/image/upload/v1757967985/mpulse/program-manager-prototype/filters-applied_finc2h.png" />
        <img src="https://res.cloudinary.com/dbrkk86kt/image/upload/v1757967985/mpulse/program-manager-prototype/condition-count_oo81xb.png" />
      </div>
      <div class="w-full h-full p-6 flex flex-col justify-start items-center max-w-[970px]">
        <div *ngIf="activeItem?.label === 'Member List'" class="w-full pb-6 flex justify-center items-center">
          <h1 class="text-xl">{{memberList.length}} Total Members</h1>
          <div class="flex-1"></div>
          <p-button styleClass="p-button-primary" styleClass="p-button-sm">
            <div class="flex justify-center items-center pr-2">
               <mat-icon [style]="{ color: 'white', fontSize: '16px', position: 'relative', top: '4px', marginRight: '4px' }">send</mat-icon> <span>Send to Program Manager</span>
            </div>
           
          </p-button>
        </div>
        <div class="bg-white border border-gray-200 p-4 w-full rounded-sm">
           <app-table *ngIf="activeItem?.label === 'Member List'" [tableData]="memberList" />    
           <div *ngIf="activeItem?.label === 'Overview'">
             <h2 class="text-xl mb-4 font-regular text-gray-600">Engagement &amp; Impact Overview</h2>
              <app-chart [data]="chartData" [keys]="chartKeys" />
           </div>
            <div *ngIf="activeItem?.label === 'Insights'">
              <h2 class="text-xl mb-4 font-regular text-gray-600">Engagement Overview</h2>
              <app-chart [data]="chartData" [keys]="chartKeys" />
           </div>
        </div>
      </div>
    </div>
  </div>
</div>

<p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
    Dialog
</p-dialog>